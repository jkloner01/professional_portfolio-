<!DOCTYPE html>
<html lang="en">
    <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>Jacquelie Kloner | Sports & Data Analytics Portfolio</title>
       <link rel="preconnect" href="https://fonts.googleapis.com">
       <link rel="preconnect" href="https://fonts.gstatic.com"crossorigin>
       <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
       
        <!-- Load Tailwind CSS from CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            body {
                font-family: 'Inter', sans-serif;
                background-color: #0f172a; 
                color: #e2e8f0;
            }
        </style>
        
    </head>
    <body>
        <!-- Header & Navigation -->
        <header class="bg-slate-800 p-4 sticky top-0 z-50 shadow-lg"> 
            <div class="container mx-auto flex flex-col md:flex-row items-center justify-between">
            <a href="#" class="text-xl font-bold text-teal-400"> Jacqueline Kloner </a>
            <nav class="mt-4 md:mt-0">
                <ul class="flex space-x-4 md:space-x-6">
                    <li><a href="index.html" class="text-slate-300 hover:text-white transition duration-300">Home</a></li>
                    <li><a href="about.html" class="text-slate-300 hover:text-white transition duration-300">About</a></li>
                    <li class="relative">
    <button id="projects-dropdown-button" type="button" class="text-slate-300 hover:text-white transition duration-300 flex items-center">
        Projects
        <svg class="ml-1 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
    </button>
    <div id="projects-dropdown-menu" class="origin-top-right absolute left-0 mt-2 w-56 rounded-md shadow-lg bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-10 hidden">
        <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="projects-dropdown-button">
            <a href="nba.html" class="block px-4 py-2 text-sm text-slate-200 hover:bg-slate-700 hover:text-white transition-colors duration-200">NBA Achilles Tear</a>
            <a href="home-advantage.html" class="block px-4 py-2 text-sm text-slate-200 hover:bg-slate-700 hover:text-white transition-colors duration-200">NFL Home Advantage</a>
            <a href="xg-analysis.html" class="block px-4 py-2 text-sm text-slate-200 hover:bg-slate-700 hover:text-white transition-colors duration-200">NHL xG Analysis</a>
        </div>
    </div>
</li>
                    <li><a href="contact.html" class="text-slate-300 hover:text-white transition duration-300">Contact</a></li>
                </ul> 
            </nav> 
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
       <section>
        <h1 class="text-4xl font-bold text-teal-400 mb-4">Expected Goals (xG) + Shot Chart In The NHL</h1>
        <h2 class="text-3xl font-semibold text-white mt-8 mb-4"> Project Overview </h2>
        <p class="text-lg text-slate-400">
            This project, titled "Measuring Shot Quality: An xG Analysis in NHL," successfully developed and implemented a sophisticated method for evaluating offensive efficiency in the National Hockey League (NHL). The core objective was to move beyond traditional metrics like goals and shots by modeling and visualizing Expected Goals (xG). Expected Goals provides a measure of shot quality, representing the probability of a shot becoming a goal based on a variety of factors. The project's outcome is a complete data pipeline, from raw data acquisition to a functional, interactive dashboard that allows for a deeper, more analytical understanding of scoring opportunities for teams and players.
        </p>
        <h2 class="text-3xl font-semibold text-white mt-8 mb-4"> Data & Methodology </h2>
        <p class="text-lg text-slate-400">
            The project's methodology was a comprehensive, multi-stage process that encompassed data collection, cleaning, modeling, and visualization.
            <ul>
                <li><b>Data Collection:</b> The process began by systematically scraping game-level data from the NHL API. A Python script was developed to first scrape game IDs from the official schedule API for a given season. For each game ID, it then accessed the box score and, most critically, the play-by-play data, which contains granular details for every shot taken.</li>
                <n></n>
                <li><b>Data Cleaning and Feature Engineering:</b> After collecting the raw data, the information was cleaned and structured into a pandas DataFrame. Rows with missing data were dropped to ensure model integrity. Crucially, two new variables, distance_to_goal and angle_to_goal, were calculated for each shot using its x_coord and y_coord. These two features are fundamental to predicting shot quality. The shot_type variable was converted to a categorical format for use in the model.</li>
                <n></n>
                <li><b>xG Model Building and Evaluation:</b> A Logistic Regression model was chosen to calculate Expected Goals. The dataset was split into training (80%) and testing (20%) sets to ensure the model's performance was evaluated on unseen data. The model was trained to predict the binary outcome (is_goal or not) based on the engineered features (distance_to_goal, angle_to_goal, and one-hot encoded shot_type). The model's performance was evaluated using:</li>
                <ul>
                    <li><b>Accuracy:</b> The percentage of correct predictions.</li>
                    <n></n>
                    <li><b>Log Loss:</b> A metric that penalizes inaccurate and overconfident predictions.</li>
                    <n></n>
                    <li><b>Calibration Plot:</b> A crucial visualization that assessed the model's reliability, showing how well the predicted probabilities matched the actual fraction of goals.</li>
                </ul>
                <n></n>
                <li><b>Dashboard Development:</b> A dynamic and interactive dashboard was built using the Plotly Dash framework. The dashboard visualizes every shot on a diagram of an NHL rink. It features dropdown menus that allow users to filter the data by team, player, and shot type. The visualization is enhanced by using marker size to represent the xG value (larger circles indicate a higher chance of scoring) and color to represent the outcome (green for goals, red for misses).</li>
            </ul>
        </p>
        <h2 class="text-3xl font-semibold text-white mt-8 mb-4"> Key Findings & Visualizations </h2>
        <p class="text-lg text-slate-400">
            The project successfully delivered a robust and well-calibrated Expected Goals model and a powerful visualization tool to explore its results.
            <ul>
                <li> <b>Effective xG Model:</b> The logistic regression model proved to be highly effective at predicting shot outcomes. The model achieved a high accuracy rate of approximately 92.76%. More importantly, the low log loss score and the well-aligned calibration plot confirmed that the model's predictions were not only accurate but also reliable, meaning a shot with a predicted xG of 0.10 was indeed converted into a goal about 10% of the time. This demonstrates the model's ability to accurately quantify shot quality.</li>
                <n></n>
                <li><b>Actionable Insights through Visualization:</b> The interactive dashboard serves as a key finding in itself. It allows users to gain immediate, visual insights that are difficult to discern from raw numbers. For instance, a user can quickly identify areas on the ice with a high density of high-xG shots or analyze a specific player's shot profile to see if they are consistently generating high-quality opportunities. This interactive exploration confirms that shot location and type are indeed the most significant drivers of shot quality.</li>
                <n></n>
                <li><b>Conclusion: </b>The project successfully demonstrated that Expected Goals is a superior metric for evaluating offensive efficiency in the NHL compared to traditional statistics. By building a well-calibrated model and a user-friendly dashboard, the project created a powerful tool for analysts, coaches, and fans to understand the true nature of offensive production and shot quality in the sport.</li>
            </ul>
        </p>
        <div class="mt-8">
            Link to code and dashboard:
            <a href="https://jkloner01.github.io/NHL-Project-/">Code & Dashboard</a>
        </div>
       </section>
    </main>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const button = document.getElementById('projects-dropdown-button');
                const menu = document.getElementById('projects-dropdown-menu');
        
                if (button && menu) {
                    button.addEventListener('click', () => {
                        menu.classList.toggle('hidden');
                    });
        
                    // Close the dropdown when clicking outside of it
                    document.addEventListener('click', (event) => {
                        if (!button.contains(event.target) && !menu.contains(event.target)) {
                            menu.classList.add('hidden');
                        }
                    });
                }
            });
        </script>
    </body>
</html>
